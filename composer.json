{
  "name": "tixlag/php-framework",
  "description": "SpsFramework - ready to go!",
  "type": "library",
  "license": "",
  "version": "dev-master",
  "require": {
    "ext-mbstring": "*",
    "ext-pdo": "*",
    "ext-pcntl": "*",
    "robmorgan/phinx": "^0.16.9",
    "firebase/php-jwt": "^6.11",
    "zircote/swagger-php": "^5.1",
    "php-amqplib/php-amqplib": "^3.0",
    "guzzlehttp/guzzle": "^7.10",
    "ext-posix": "*"
  },
  "autoload": {
    "psr-4": {
      "SpsFW\\": "src/"
    }
  },
  "authors": [
    {
      "name": "Skorodumov Nikolay",
      "email": "tixlag@yandex.ru",
      "homepage": "https://scorodumov.ru"
    }
  ],
  "minimum-stability": "RC",
  "scripts": {
    "migrate:dev": "APP_ENV=dev vendor/bin/phinx migrate",
    "migrate:prod": "APP_ENV=prod vendor/bin/phinx migrate",
    "rollback:dev": "APP_ENV=dev vendor/bin/phinx rollback",
    "rollback:prod": "APP_ENV=prod vendor/bin/phinx rollback",
    "create:prod": "APP_ENV=prod vendor/bin/phinx create",
    "create:dev": "APP_ENV=dev vendor/bin/phinx create",
    "migration:generate:dev": [
      "echo 'Generating migrations from schemas...'",
      "APP_ENV=dev php scripts/generate_migrations.php"
    ],
    "migration:generate:prod": [
      "echo 'Generating migrations from schemas...'",
      "APP_ENV=prod php scripts/generate_migrations.php"
    ],
    "migration:status:dev": [
      "echo 'Checking migration status...'",
      "APP_ENV=dev vendor/bin/phinx status -c phinx.php"
    ],
    "migration:status:prod": [
      "echo 'Checking migration status...'",
      "APP_ENV=prod vendor/bin/phinx status -c phinx.php"
    ],
    "migration:run:dev": [
      "echo 'Running Phinx migrations...'",
      "APP_ENV=dev vendor/bin/phinx migrate -c phinx.php"
    ],
    "migration:run:prod": [
      "echo 'Running Phinx migrations...'",
      "APP_ENV=prod vendor/bin/phinx migrate -c phinx.php"
    ],
    "migration:auto:dev": [
      "echo 'ðŸš€ Starting automatic migration process...'",
      "@migration:generate:dev",
      "@migration:status:dev",
      "@migration:run:dev",
      "echo 'âœ… Migration process completed successfully!'"
    ],
    "migration:auto:prod": [
      "echo 'ðŸš€ Starting automatic migration process...'",
      "@migration:generate:prod",
      "@migration:status:prod",
      "@migration:run:prod",
      "echo 'âœ… Migration process completed successfully!'"
    ],
    "migration:generate:models": [
      "echo 'Generating models from schemas...'",
      "APP_ENV=prod php scripts/generate_migrations.php"
    ]
  },
  "scripts-descriptions": {
    "migration:generate:dev": "Generate migrations from schema files",
    "migration:run:dev": "Execute all pending migrations",
    "migration:status:dev": "Show migration status",
    "migration:auto:dev": "Generate and run all migrations automatically",
    "migration:generate:prod": "Generate migrations from schema files",
    "migration:run:prod": "Execute all pending migrations",
    "migration:status:prod": "Show migration status",
    "migration:auto:prod": "Generate and run all migrations automatically"
  }
}
